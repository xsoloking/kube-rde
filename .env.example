# KubeRDE Deployment Configuration
# Copy this file to .env and modify the values before deploying

NAMESPACE=kuberde
# -----------------------------------------------------------------------------
# Domain Configuration
# 1. Single domain setup (default):
#  - Service: `https://frp.byai.uk`
#  - Agents: `*.frp.byai.uk`
#  - Cookie domain: `.frp.byai.uk` (shared across all subdomains)
# 2. Separate www subdomain:
#    - Service: `https://www.kuberde.com`
#    - Agents: `*.kuberde.com`
#    - Cookie domain: `.kuberde.com` (shared between www and agent subdomains)
# -----------------------------------------------------------------------------
#  KubeRDE Server (public entry point)
KUBERDE_PUBLIC_DOMAIN=
KUBERDE_PUBLIC_URL=https://${KUBERDE_PUBLIC_DOMAIN}
# Domain for the KubeRDE Agent (public entry point)
KUBERDE_AGENT_DOMAIN=

# Domain for the SSO (Keycloak)
KEYCLOAK_DOMAIN=

# -----------------------------------------------------------------------------
# Keycloak Configuration
# -----------------------------------------------------------------------------
# Admin credentials for Keycloak
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# Client Secret for the KubeRDE Server to talk to Keycloak (Admin REST API)
# This can be any strong random string.
KEYCLOAK_CLIENT_SECRET_FOR_SERVER=server-admin-secret-change-me

# Client Secret for Agents to authenticate
# This can be any strong random string.
KEYCLOAK_CLIENT_SECRET_FOR_AGENT=agent-secret-change-me

# GitHub Identity Provider Configuration (Optional, but recommended)
# Get these from GitHub Developer Settings -> OAuth Apps
GH_CLIENT_ID=
GH_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL credentials
DB_USER=kuberde
DB_PASSWORD=kuberde
DB_NAME=kuberde
POSTGRES_PASSWORD=kuberde

# -----------------------------------------------------------------------------
# Other Configuration
# -----------------------------------------------------------------------------
# Docker Image Registry (if using custom images)
REGISTRY=
VERSION=latest

# Agent Configuration (advanced - usually defaults are fine)
# WebSocket URL that agents should connect to (internal cluster address)
KUBERDE_AGENT_SERVER_URL=ws://kuberde-server:8080/ws
# Secret name containing agent authentication credentials
KUBERDE_AGENT_AUTH_SECRET=kuberde-agents-auth
# Namespace for creating PVCs and RDEAgents (auto-detected if not set)
# KUBERDE_NAMESPACE=kuberde
